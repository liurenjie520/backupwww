var FxAjax=function(){"use strict";function pushInterceptors(a){var def={index:100,name:"anonymity",fn:empty},c=type(a);"function"===c?interceptors.push(extend(def,{fn:a})):"object"===c?interceptors.push(extend(def,a)):"array"===c&&a.forEach(pushInterceptors)}function parseArguments(a,c,y,g){return"function"===type(c)&&(g=y,y=c,c=void 0),"function"!==type(y)&&(g=y,y=void 0),{url:a,data:c,success:y,dataType:g}}function mimeToDataType(a){var c="text";return a&&(a=a.split(";",2)[0]),a==htmlType?c="html":a==jsonType?c="json":scriptTypeRE.test(a)?c="script":xmlTypeRE.test(a)&&(c="xml"),c}function appendQuery(a,c){return""===c?a:(a+"&"+c).replace(/[&?]{1,2}/,"?")}function serializeData(a){a.data&&"object"===type(a.data)&&(a.data=param(a.data)),!a.data||a.type&&"GET"!==a.type.toUpperCase()&&"jsonp"!==a.dataType||(a.url=appendQuery(a.url,a.data))}function serialize(a,c,y,g){var h=void 0,j="array"===type(c);for(var T in c)h=c[T],g&&(T=y?g:g+"["+(j?"":T)+"]"),!g&&j?a.add(h.name,h.value):"array"===type(h)||!y&&"object"===type(h)?serialize(a,h,y,T):a.add(T,h)}function param(a,c){var y=[];return y.add=function(a,c){"function"===type(c)&&(c=c()),null==c&&(c=""),this.push(escape(a)+"="+escape(c))},serialize(y,a,c),y.join("&").replace(/%20/g,"+")}function extend(a){var c=Array.prototype.slice;return c.call(arguments,1).forEach(function(c){for(key in c)void 0!==c[key]&&(a[key]=c[key])}),a}function triggerAndReturn(a,c,y){var g=ajax.settings[c];return"function"===type(g)&&g.call(a,y),!0}function triggerGlobal(a,c,y,g){return a.global?triggerAndReturn(c||document,y,g):void 0}function ajaxStart(a){a.global&&0===ajax.active++&&triggerGlobal(a,null,"ajaxStart")}function ajaxStop(a){a.global&&!--ajax.active&&triggerGlobal(a,null,"ajaxStop")}function ajaxBeforeSend(a,c){var y=c.context;return c.beforeSend.call(y,a,c)===!1||triggerGlobal(c,y,"ajaxBeforeSend",[a,c])===!1?!1:void triggerGlobal(c,y,"ajaxSend",[a,c])}function ajaxSuccess(a,c,y){var g=y.context,h="success";"function"==typeof y.success&&y.success.call(g,a,h,c),triggerGlobal(y,g,"ajaxSuccess",[c,y,a]),ajaxComplete(h,c,y)}function ajaxError(a,c,y,g){var h=g.context;"function"==typeof g.error&&g.error.call(h,y,c,a),triggerGlobal(g,h,"ajaxError",[y,g,a]),ajaxComplete(c,y,g)}function ajaxComplete(a,c,y){var g=y.context;"function"==typeof y.complete&&y.complete.call(g,c,a),triggerGlobal(y,g,"ajaxComplete",[c,y]),ajaxStop(y)}function jsonp(a){var c=void 0,y=a.jsonpCallback||"jsonp"+a.url.replace(/[^a-zA-Z0-9]+/g,""),g=document.createElement("script"),h=document.head||document.getElementsByTagName("head")[0]||document.documentElement,j=win[y],T=function(a){g&&g.onload&&g.onload({type:"error"},a||"abort")},v={abort:T},b=void 0;return g.onload=g.onerror=function(e,T){clearTimeout(b),g.onload=g.onerror=empty,h&&g.parentNode&&h.removeChild(g),g=void 0,e&&"error"==e.type||!c&&"jsonp"===a.dataType?ajaxError(null,T||"error",v,a):ajaxSuccess(c,v,a),win[y]=j||empty,c&&"function"===type(j)&&j(c),j=c=void 0},ajaxBeforeSend(v,a)===!1?(T("abort"),v):(win[y]=function(a){c=a},g.src=a.url.replace(/\?(.+)=\?/,"?$1="+y),h.insertBefore(g,h.firstChild),a.timeout>0&&(b=setTimeout(function(){T("timeout")},a.timeout)),v)}var key=void 0,name=void 0,win=window,document=win.document,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,jsonpCallbackKey="jsonpcallback=?",toString=Object.prototype.toString,escape=encodeURIComponent,empty=function(){},type=function(a){return toString.call(a).toLowerCase().slice(8,-1)},interceptors=[],ajax=function ajax(options){var settings=void 0,dataType=void 0,hasPlaceholder=void 0,curInterceptors=void 0;curInterceptors=interceptors.sort(function(a,c){return c.index-a.index}),curInterceptors.forEach(function(a){var c=void 0;if(a&&"function"===type(a.fn))try{c=a.fn(options)}catch(e){}c&&(options=c)}),settings=extend({},options||{});for(key in ajax.settings)void 0===settings[key]&&(settings[key]=ajax.settings[key]);if(ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!==win.location.host),settings.url||(settings.url=win.location.toString()),serializeData(settings),dataType=settings.dataType,hasPlaceholder=/\?.+=\?/.test(settings.url),hasPlaceholder&&(dataType="jsonp"),settings.cache===!1&&(settings.url=appendQuery(settings.url,"_="+(new Date).getTime())),"jsonp"===dataType||"script"===dataType)return"jsonp"!==dataType||hasPlaceholder||(settings.url=appendQuery(settings.url,settings.jsonp?settings.jsonp+"=?":settings.jsonp===!1?"":jsonpCallbackKey)),jsonp(settings);var mime=settings.accepts[dataType],headers={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:win.location.protocol,xhr=settings.xhr(),abortTimeout=void 0;if(settings.crossDomain||(headers["X-Requested-With"]="XMLHttpRequest"),headers.Accept=mime||"*/*",mime&&(mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime)),(settings.contentType||settings.contentType!==!1&&settings.data&&"GET"!=settings.type.toUpperCase())&&(headers["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded"),settings.headers=extend(headers,settings.headers||{}),xhr.onreadystatechange=function(){if(4==xhr.readyState){xhr.onreadystatechange=empty,clearTimeout(abortTimeout);var result=void 0,error=!1;if(xhr.status>=200&&xhr.status<300||304==xhr.status||0==xhr.status&&"file:"==protocol){if(dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),"arraybuffer"==xhr.responseType||"blob"==xhr.responseType)result=xhr.response;else{result=xhr.responseText;try{"script"==dataType?eval(result):"xml"==dataType?result=xhr.responseXML:"json"==dataType&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}if(error)return ajaxError(error,"parsererror",xhr,settings)}ajaxSuccess(result,xhr,settings)}else ajaxError(xhr.statusText||null,xhr.status?"error":"abort",xhr,settings)}},ajaxBeforeSend(xhr,settings)===!1)return xhr.abort(),ajaxError(null,"abort",xhr,settings),xhr;var async="async"in settings?settings.async:!0;if(xhr.open(settings.type,settings.url,async,settings.username,settings.password),settings.xhrFields)for(name in settings.xhrFields)xhr[name]=settings.xhrFields[name];for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout));try{xhr.send(settings.data?settings.data:null)}catch(e){if(!settings.catchSendError)throw e;ajaxError(e,"error",xhr,settings)}return xhr};return ajax.active=0,ajax.settings={type:"GET",dataType:"json",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new win.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0,cache:!0},ajax.get=function(){return ajax(parseArguments.apply(null,arguments))},ajax.post=function(){var a=parseArguments.apply(null,arguments);return a.type="POST",ajax(a)},ajax.jsonp=function(){var a=parseArguments.apply(null,arguments);return a.dataType="jsonp",ajax(a)},ajax.script=function(){var a=parseArguments.apply(null,arguments);return a.dataType="script",ajax(a)},ajax.pushInterceptors=pushInterceptors,ajax.version="2.0.11",pushInterceptors(win.FxAjaxInterceptors),ajax}();
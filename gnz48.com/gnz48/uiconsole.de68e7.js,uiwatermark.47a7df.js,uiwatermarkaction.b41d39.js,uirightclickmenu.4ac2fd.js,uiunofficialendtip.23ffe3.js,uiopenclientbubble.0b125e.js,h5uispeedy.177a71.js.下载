!function(a){var o={};function d(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,d),e.l=!0,e.exports}d.m=a,d.c=o,d.d=function(t,e,a){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},d.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(a,o,function(t){return e[t]}.bind(null,o));return a},d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="",d(d.s=295)}({295:function(t,e,a){t.exports=a(296)},296:function(t,e,a){var s=Txplayer.$,o=Txplayer.util,d=a(297),i=a(298);a(299);function n(t){s=Txplayer.$,this.dataset={},this.context=t,this.init()}n.prototype={init:function(){this.dataset.timeInterval=1,this.dataset.reportTimesLimit=3,this.dataset.dlSpeed=[],this.resetConsole(),this.write(),this.addEventListerner(),this.moduleExportApis()},resetConsole:function(){this.dataset.consoleData={flow:[]},this.dataset.reportTimes=null,this.dataset.dlSpeed=[],this.dataset.hasCallStopP2P=!1},write:function(){var t={console:"txp-ui-console",vid:"txp-ui-console-vid",volume:"txp-ui-console-volume",bufferPercent:"txp-ui-console-buf-per",bufferSeconds:"txp-ui-console-buf-seconds",droppedFrames:"txp-ui-console-dropped-frames",errorCode:"txp-ui-console-errorcode",close:"txp-ui-console-close",videoSize:"txp-ui-console-videoSize",downloadSpeed:"txp-ui-console-downloadspeed",downloadSpeedChart:"txp-ui-console-downloadspeed-chart",cdn:"txp-ui-console-cdn",protocol:"txp-ui-console-protocol",report:"txp-ui-console-report",errorCodeWrap:"txp-ui-console-errorcode-wrap",flowIdRole:"txp-ui-console-flowid",playerTypeMode:"txp-ui-console-playertype-mode",localLog:"txp-ui-console-local-log",drmFlag:"txp-ui-drm-flag",vidStr:this.context.dataset.vid,playerType:this.context.config.playerType,errcodeVal:this.dataset.errorcode,resolution:screen.width+" x "+screen.height,videoSizeStr:this.context.dataset.videoWidth?[this.context.dataset.videoWidth," x ",this.context.dataset.videoHeight].join(""):"",volumeStr:this.context.dataset.volume+"%",version:Txplayer.dataset.ver+"-"+Txplayer.appVersion+" ("+Txplayer.dataset.lastModify+")",flowId:this.context.dataset.flowid};this.dataset.renderData=t;var e=s.tmpl(o.isTouchPlayer(this.context)?i:d,t),a=this.context.dataset.$playermod;a.append(e),this.dataset.$console=a.find('[data-role="'+t.console+'"]'),this.dataset.$vid=a.find('[data-role="'+t.vid+'"]'),this.dataset.$volume=a.find('[data-role="'+t.volume+'"]'),this.dataset.$close=a.find('[data-role="'+t.close+'"]'),this.dataset.$bufferPercent=a.find('[data-role="'+t.bufferPercent+'"]'),this.dataset.$bufferSeconds=a.find('[data-role="'+t.bufferSeconds+'"]'),this.dataset.$errorCode=a.find('[data-role="'+t.errorCode+'"]'),this.dataset.$videoSize=a.find('[data-role="'+t.videoSize+'"]'),this.dataset.$downloadSpeed=a.find('[data-role="'+t.downloadSpeed+'"]'),this.dataset.$downloadSpeedChart=a.find('[data-role="'+t.downloadSpeedChart+'"]'),this.dataset.$cdn=a.find('[data-role="'+t.cdn+'"]'),this.dataset.$protocol=a.find('[data-role="'+t.protocol+'"]'),this.dataset.$report=a.find('[data-role="'+t.report+'"]'),this.dataset.$errorCodeWrap=a.find('[data-role="'+t.errorCodeWrap+'"]'),this.dataset.$flowIdRole=a.find('[data-role="'+t.flowIdRole+'"]'),this.dataset.$playerTypeMode=a.find('[data-role="'+t.playerTypeMode+'"]'),this.dataset.$droppedFrames=a.find('[data-role="'+t.droppedFrames+'"]'),this.dataset.$localLog=a.find('[data-role="'+t.localLog+'"]'),this.dataset.$drmFlag=a.find('[data-role="'+t.drmFlag+'"]'),window._txplayerlocalLogs&&window.downloadTxplayerLog&&this.dataset.$localLog.removeClass("txp_none"),this.dataset.$video=a.find("video")},remove:function(){this.dataset.$console.remove()},hide:function(){this.context.dataset.disableCalcDownloadSpeed=!0,this.dataset.$console.addClass(Txplayer.dataset.hideClass),this.stop()},show:function(){this.context.dataset.disableCalcDownloadSpeed=!1,this.isShowing()||(this.dataset.$console.removeClass(Txplayer.dataset.hideClass),this.start(),this.updateShowErrorCode())},updateShowErrorCode:function(){this.dataset.errorcode?(this.dataset.$errorCodeWrap.removeClass(Txplayer.dataset.hideClass),this.dataset.$errorCode.html(this.dataset.errorcode)):(this.dataset.$errorCodeWrap.addClass(Txplayer.dataset.hideClass),this.dataset.$errorCode.html(""))},isShowing:function(){return!this.dataset.$console.hasClass(Txplayer.dataset.hideClass)},getSpeedStart:function(){var t;this.dataset.timer||((t=this).dataset.timer=setInterval(function(){t.updateDownloadSpeedValue(t.context.dataset.videoDownloadSpeed),t.updateDownloadSpeendChart(t.context.dataset.videoDownloadSpeed)},1e3))},getSpeedStop:function(){this.dataset.timer&&(clearInterval(this.dataset.timer),this.dataset.timer=null)},start:function(){this.dataset.isConsoleShow=!0,this.getSpeedStart()},stop:function(){this.dataset.isConsoleShow=!1,this.getSpeedStop()},updateDownloadSpeedValue:function(t){this.dataset.$downloadSpeed.html(o.formatDownloadSpeed(t))},animate:function(t,e){t&&("function"===s.type(t.animate)?t.animate(e):t.css(e))},collectConsoleData:function(){this.dataset.consoleData.vid=this.context.dataset.vid,this.dataset.consoleData.cid=this.context.dataset.cid,this.dataset.consoleData.now=o.dateFormat(),this.dataset.consoleData.defn=this.context.dataset.definition,this.dataset.consoleData.uid=this.context.config.guid,this.dataset.consoleData.pid=this.context.config.playerId,this.dataset.errorcode&&(this.dataset.consoleData.errorcode=this.dataset.errorcode),this.getPlayerData()},updateBuffer:function(){var t,e;this.dataset.isConsoleShow&&(this.context.dataset.disableCalcDownloadSpeed=!1,(e=this.context.dataset.bufferHealth?this.context.dataset.bufferHealth:0)<0||(this.dataset.$bufferSeconds.html(e+"s"),t=180<=e?"100%":parseInt(e/180*100)+"%",this.animate(this.dataset.$bufferPercent,{width:t})))},updateDroppedFrames:function(){try{var t,e,a,o,d,s=this.getFocusVideoTag();s&&(e=o=d=t=0,"function"==typeof s.getVideoPlaybackQuality?(o=t=(a=s.getVideoPlaybackQuality()).totalVideoFrames,d=a.droppedVideoFrames):void 0!==s.webkitDroppedFrameCount&&void 0!==s.webkitDecodedFrameCount&&(o=(t=s.webkitDecodedFrameCount)+(d=s.webkitDroppedFrameCount)),0<t&&(e=(d/o*100).toFixed(2),this.dataset.isConsoleShow&&this.dataset.$droppedFrames.html(d+"/"+t+"; "+e+"%"),"chromehls"===this.context.config.playerType&&(3<e&&!this.dataset.hasCallStopP2P&&(this.dataset.hasCallStopP2P=!0,this.context.msg.broadcast("stopP2P")),this.context.dataset.currentTime%5==0&&this.context.msg.broadcast("setChromeHlsData",{k:"videoDropFrameRateChange",v:{dropFrameCount:d,totalFrameCount:o}})),1<e&&Txplayer.util.localLog("DROP_FRAME_ERROR",{percent:d/o*100,dropped:d,decodedCount:t})))}catch(t){}},getFocusVideoTag:function(){var a;return this.dataset.$video&&0<this.dataset.$video.length&&this.dataset.$video.each(function(t,e){if(e.isFocus)return a=e,!1}),a},getPlayerData:function(t){t=t||{};var e=this,a={pid:e.context.dataset.playerId,url:encodeURIComponent(o.getPlayerPageUrl()),vid:e.context.dataset.vid,version:Txplayer.dataset.ver,platform:e.context.dataset.platform,playtype:"",emsg2:"",id:t.id||"",action:"//btrace.qq.com/kvcollect?BossId=4372&Pwd=967411786",getinfo:encodeURIComponent(e.dataset.getinfoURL),getkey:encodeURIComponent(e.dataset.getkeyURL||"")||"",uin:o.getQQFromCookie(),ua:o.getReportUA(),refer:o.getTopFrameUrl(),pvid:o.cookie.get("pgv_pvid"),sessionid:o.cookie.get("psessionid"),main_login:o.cookie.get("main_login"),vuserid:o.cookie.get("vuserid"),openid:o.cookie.get("openid"),appid:o.cookie.get("appid")};return e.context.dataset.useHls?a.playtype=1:a.playtype=3,a.vurl=encodeURIComponent(e.context.dataset.currentVideoUrl),window.JSON&&JSON.stringify&&(a.emsg2=JSON.stringify(e.dataset.consoleData),a.emsg2=encodeURIComponent(a.emsg2)),this.dataset.reportData=a},getConsoleData:function(){var t=this.getPlayerData();return t.vid=this.context.dataset.vid,t.cid=this.context.dataset.cid,t.now=o.dateFormat(),t.defn=this.context.dataset.definition,t.uid=this.context.config.guid,t.pid=this.context.config.playerId,this.dataset.errorcode&&(t.errorcode=this.dataset.errorcode),t},
//   var jqFormUrl = '//vm.gtimg.cn/tencentvideo/txp/js/jquery.form.min.js?t=' + Txplayer.dataset.ts;
updateDownloadSpeendChartWithDiv:function(t){var e=1024<t?"100%":(t/10.24).toFixed(0)+"%",a='<txpdiv class="txp_box_value" style="width:0.5%;height:{per}"></txpdiv>'.replace("{per}",e);this.dataset.$downloadSpeedChart.append(a);var o=this.dataset.$downloadSpeedChart.find(".txp_box_value"),d=o.length;175<d&&o.each(function(t,e){t<d-175&&s(e).remove()})},updateDownloadSpeendChart:function(t){if("boolean"==typeof this.dataset.supportCanvas&&!this.dataset.supportCanvas)return this.updateDownloadSpeendChartWithDiv(t);var o=this;if(this.dataset.speedQueue||(this.dataset.speedQueue=[]),!this.dataset.speedCharContext){this.dataset.$downloadSpeedChart.append('<canvas width="180" height="14"></canvas>');var e=this.dataset.$downloadSpeedChart.find("canvas")[0];if(!e||"function"!=typeof e.getContext)return this.dataset.supportCanvas=!1,this.updateDownloadSpeendChartWithDiv(t);var a=e.getContext("2d");this.dataset.speedCharContext=a}this.dataset.speedQueue.push(t),90<this.dataset.speedQueue.length&&this.dataset.speedQueue.shift(),this.dataset.speedCharContext.clearRect(0,0,180,14),this.dataset.speedQueue.forEach(function(t,e){var a=Math.floor(t/200),a=Math.min(14,a);a=Math.max(2,a),o.dataset.speedCharContext.fillStyle=5<a&&a<10?"#03a9f4":10<=a&&a<=14?"#ff6428":"#009688",o.dataset.speedCharContext.fillRect(2*e,14,2,-14)})},updatePlayerType:function(){var t="",t=this.context.dataset.useChromeHls?"chromehls":this.context.config.playerType,e="?",e=this.context.dataset.useChromeHls?"hls.js":this.context.dataset.useHls||"safarihls"===t?"org-hls":"mp4";this.dataset.$playerTypeMode.html(t+"/"+e)},updateDrmFlag:function(){var t="false";4===this.context.dataset.drm?t="fairplay":5===this.context.dataset.drm&&(t="widevine"),this.dataset.$drmFlag.find("._drm_flag_value").text(t)},addEventListerner:function(){var a=this;this.dataset.eventsList={},this.dataset.eventsList[o.getUniqueMsgKey("vidChange")]=function(){a.dataset.hasCallStopP2P=!1,a.dataset.$vid.html(a.context.dataset.vid),a.dataset.$flowIdRole.html(a.context.dataset.flowid),a.resetConsole(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("volumeChange")]=function(t){a.dataset.$volume.html(a.context.dataset.volume+"%")},this.dataset.eventsList[o.getUniqueMsgKey("getVideoUrlSuccess")]=function(t){var e=a.context.dataset.videoWidth?[a.context.dataset.videoWidth," x ",a.context.dataset.videoHeight].join(""):"";e&&a.dataset.$videoSize.html(e),t&&(a.dataset.$cdn.html(o.getDomainOfURL(t)),a.dataset.$protocol.html(o.getProtocolOfURL(t)))},this.dataset.eventsList[o.getUniqueMsgKey("setFocusVideoUrl")]=function(t){t&&t.url&&a.dataset.$cdn.html(o.getDomainOfURL(t.url))},this.dataset.eventsList[o.getUniqueMsgKey("getinfoFinish")]=function(t){a.dataset.getinfoURL=t.getinfoURL,t.err?a.dataset.consoleData.flow.push(+new Date+" getinfo err "+t.costTime+" "+["code="+(t.code||0),"exem="+(t.exem||0)].join(" ")):a.dataset.consoleData.flow.push(+new Date+" getinfo ok "+t.costTime)},this.dataset.eventsList[o.getUniqueMsgKey("getkeyFinish")]=function(t){a.dataset.getkeyURL=t.getkeyURL,t.err?a.dataset.consoleData.flow.push(+new Date+" getkey err "+t.costTime+" "+["code="+(t.code||0),"exem="+(t.exem||0),"msg="+t.err].join(" ")):a.dataset.consoleData.flow.push(+new Date+" getkey ok "+t.costTime)},this.dataset.eventsList[o.getUniqueMsgKey("error")]=function(t){t&&t.type&&-1<s.inArray(t.type,["loadingad","insertad","endingad"])&&a.dataset.consoleData.flow.push([+new Date,t.type,t.index,"err"].join(" ")),t&&(t.code||t.errCode)&&(a.dataset.errorcode=t.errCode||t.code,a.updateShowErrorCode())},this.dataset.eventsList[o.getUniqueMsgKey("reportVideoError")]=function(t){a.dataset.consoleData.flow.push([+new Date,t.type,t.index,"err",t.code,"ctime",a.context.dataset.currentTime||0,a.context.dataset.videoCurrentTime||0].join(" ")),t&&t.code&&(a.dataset.errorcode=t.code,a.updateShowErrorCode())},this.dataset.eventsList[o.getUniqueMsgKey("videoEnd")]=function(t){t&&t.playListType&&"videoEvent"===t.from&&a.dataset.consoleData.flow.push([+new Date,t.playListType,t.index,"played"].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"loadingad data",t&&t.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("insertAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"insertad data",t&&t.data&&t.data.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("endingAdDataReady")]=function(t){a.dataset.consoleData.flow.push([+new Date,"endingad data",t&&t.length||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingadIsEmpty")]=function(){a.dataset.consoleData.flow.push([+new Date,"loadingad data 0"].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("loadingAdRequestError")]=function(t){a.dataset.consoleData.flow.push([+new Date,"loadingad cgi err",t&&t.code||0].join(" "))},this.dataset.eventsList[o.getUniqueMsgKey("videoTimeUpdate")]=function(t){a.updateBuffer(),a.updateDroppedFrames()},this.dataset.eventsList[o.getUniqueMsgKey("videoPlay")]=function(t){a.updateBuffer(),a.updatePlayerType(),a.updateDroppedFrames(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("videoPlaying")]=function(t){a.dataset.errorcode=null,a.updateShowErrorCode(),a.updateDrmFlag()},this.dataset.eventsList[o.getUniqueMsgKey("chromehlsErrorSwitchToHtml5hd")]=function(t){setTimeout(function(){a.updatePlayerType(),a.updateDrmFlag()},100)},s.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)}),this.dataset.$close.on("click",function(){a.hide()}),this.dataset.$localLog.on("click","._download_txp_local_log",function(){window._txplayerlocalLogs&&window.downloadTxplayerLog&&window.downloadTxplayerLog()}),this.dataset.$localLog.on("click","._delete_txp_local_log",function(){window._txplayerlocalLogs&&window.clearTxplayerLog&&window.clearTxplayerLog()}),this.dataset.$report.on("dblclick",function(){a.collectConsoleData(),a.context.msg.broadcast("downloadLog",{playerInfo:a.dataset.reportData}),a.context.msg.broadcast("reportChromeHlsLog"),a.context.msg.broadcast("showConsoleReportTips")})},moduleExportApis:function(){var a=this;this.dataset.privateApis={},this.dataset.privateApis.showUiConsole=this.show.bind(this),s.each(this.dataset.privateApis,function(t,e){a.context.msg.on(t,e)}),this.dataset.dataApis={},this.dataset.dataApis.getConsoleData=function(t,e){e.data=a.getConsoleData()},s.each(this.dataset.dataApis,function(t,e){a.context.msg.setData(t,e)})}},Txplayer.register("UiConsole",n)},297:function(t,e){t.exports='<txpdiv data-role="<%=console%>" class="txp_console <%=Txplayer.dataset.hideClass%>" style="z-index: 99999;">\n  <txpdiv class="txp_console_inner">\n    <button data-role="<%=close%>" class="txp_btn_close" title="\u5173\u95ed"></button>\n    <txpdiv data-role="<%=report%>" class="txp_line" title="\u53cc\u51fb\u53d1\u9001\u9519\u8bef\u4fe1\u606f" style="cursor: pointer;">\n      <txpdiv class="txp_label">VID</txpdiv><txpdiv data-role="<%=vid%>" class="txp_value"><%=vidStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u64ad\u653e\u6a21\u5f0f</txpdiv><txpdiv data-role="<%=playerTypeMode%>" class="txp_value"><%=playerType%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u5206\u8fa8\u7387</txpdiv><txpdiv class="txp_value"><%=resolution%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u89c6\u9891\u5bbd\u9ad8</txpdiv><txpdiv data-role="<%=videoSize%>" class="txp_value"><%=videoSizeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u97f3\u91cf</txpdiv><txpdiv data-role="<%=volume%>" class="txp_value"><%=volumeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u89c6\u9891\u534f\u8bae</txpdiv><txpdiv data-role="<%=protocol%>" class="txp_value"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">CDN</txpdiv><txpdiv data-role="<%=cdn%>" class="txp_value" style="font-size: 10px;"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u4e0b\u8f7d\u901f\u5ea6</txpdiv><txpdiv class="txp_value">\n        <txpdiv data-role="<%=downloadSpeedChart%>" class="txp_box_progress"></txpdiv>\n        <span data-role="<%=downloadSpeed%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u7f13\u51b2\u8d28\u91cf</txpdiv><txpdiv class="txp_value">\n        <txpdiv class="txp_box_progress">\n          <txpdiv data-role="<%=bufferPercent%>" class="txp_box_value" style="width:0%"></txpdiv>\n        </txpdiv>\n        <span data-role="<%=bufferSeconds%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u5e27\u6570</txpdiv><txpdiv data-role="<%=droppedFrames%>" class="txp_value"></txpdiv>\n    </txpdiv>\n    <txpdiv data-role="<%=errorCodeWrap%>" class="txp_line">\n      <txpdiv class="txp_label">\u9519\u8bef\u7801</txpdiv>\n      <txpdiv data-role="<%=errorCode%>" class="txp_value"><%=errcodeVal%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u7248\u672c\u53f7</txpdiv>\n      <txpdiv class="txp_value"><%=version%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line">\n      <txpdiv class="txp_label">\u64ad\u653e\u6d41\u6c34</txpdiv>\n      <txpdiv data-role="<%=flowIdRole%>" class="txp_value"><%=flowId%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line" data-role="<%=drmFlag%>">\n      <txpdiv class="txp_label">drm</txpdiv>\n      <txpdiv class="txp_value _drm_flag_value">false</txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_line txp_none" data-role="<%=localLog%>">\n      <txpdiv class="txp_label">\u672c\u5730\u65e5\u5fd7</txpdiv>\n      <txpdiv class="txp_value">\n        <span style="cursor: pointer;" class="_download_txp_local_log">\u70b9\u51fb\u4e0b\u8f7d</span> / \n        <span style="cursor: pointer;" class="_delete_txp_local_log">\u70b9\u51fb\u6e05\u9664</span>\n      </txpdiv>\n    </txpdiv>\n  </txpdiv>\n</txpdiv>'},298:function(t,e){t.exports='<txpdiv data-role="<%=console%>" class="txp_touch_console <%=Txplayer.dataset.hideClass%>" style="z-index: 99999;">\n  <txpdiv class="txp_touch_console_inner">\n    <button data-role="<%=close%>" class="txp_touch_btn_close" title="\u5173\u95ed"></button>\n    <txpdiv data-role="<%=report%>" class="txp_touch_line" title="\u53cc\u51fb\u53d1\u9001\u9519\u8bef\u4fe1\u606f" style="cursor: pointer;">\n      <txpdiv class="txp_touch_label">VID</txpdiv><txpdiv data-role="<%=vid%>" class="txp_touch_value"><%=vidStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u64ad\u653e\u6a21\u5f0f</txpdiv><txpdiv data-role="<%=playerTypeMode%>" class="txp_touch_value"><%=playerType%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u5206\u8fa8\u7387</txpdiv><txpdiv class="txp_touch_value"><%=resolution%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u89c6\u9891\u5bbd\u9ad8</txpdiv><txpdiv data-role="<%=videoSize%>" class="txp_touch_value"><%=videoSizeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u97f3\u91cf</txpdiv><txpdiv data-role="<%=volume%>" class="txp_touch_value"><%=volumeStr%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u89c6\u9891\u534f\u8bae</txpdiv><txpdiv data-role="<%=protocol%>" class="txp_touch_value"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">CDN</txpdiv><txpdiv data-role="<%=cdn%>" class="txp_touch_value" style="font-size: 10px;"></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u4e0b\u8f7d\u901f\u5ea6</txpdiv><txpdiv class="txp_touch_value">\n        <txpdiv data-role="<%=downloadSpeedChart%>" class="txp_touch_box_progress"></txpdiv>\n        <span data-role="<%=downloadSpeed%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u7f13\u51b2\u8d28\u91cf</txpdiv><txpdiv class="txp_touch_value">\n        <txpdiv class="txp_touch_box_progress">\n          <txpdiv data-role="<%=bufferPercent%>" class="txp_touch_box_value" style="width:0%"></txpdiv>\n        </txpdiv>\n        <span data-role="<%=bufferSeconds%>"></span>\n      </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u5e27\u6570</txpdiv><txpdiv data-role="<%=droppedFrames%>" class="txp_touch_value"></txpdiv>\n    </txpdiv>\n    <txpdiv data-role="<%=errorCodeWrap%>" class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u9519\u8bef\u7801</txpdiv>\n      <txpdiv data-role="<%=errorCode%>" class="txp_touch_value"><%=errcodeVal%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u7248\u672c\u53f7</txpdiv>\n      <txpdiv class="txp_touch_value"><%=version%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line">\n      <txpdiv class="txp_touch_label">\u64ad\u653e\u6d41\u6c34</txpdiv>\n      <txpdiv data-role="<%=flowIdRole%>" class="txp_touch_value"><%=flowId%></txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line" data-role="<%=drmFlag%>">\n      <txpdiv class="txp_touch_label">drm</txpdiv>\n      <txpdiv class="txp_touch_value _drm_flag_value">false</txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_touch_line txp_none" data-role="<%=localLog%>">\n      <txpdiv class="txp_touch_label">\u672c\u5730\u65e5\u5fd7</txpdiv>\n      <txpdiv class="txp_touch_value">\n        <span style="cursor: pointer;" class="_download_txp_touch_local_log">\u70b9\u51fb\u4e0b\u8f7d</span> / \n        <span style="cursor: pointer;" class="_delete_txp_touch_local_log">\u70b9\u51fb\u6e05\u9664</span>\n      </txpdiv>\n    </txpdiv>\n  </txpdiv>\n</txpdiv>'},299:function(t,e){t.exports='<form id="<%=id%>" action="<%=action%>" method="post" class2="<%=Txplayer.dataset.hideClass%>" enctype="application/x-www-form-urlencoded">\n  <input type="hidden" name="pid" value="<%=pid%>" />\n  <input type="hidden" name="url" value="<%=url%>" />\n  <input type="hidden" name="vid" value="<%=vid%>" />\n  <input type="hidden" name="version" value="<%=version%>" />\n  <input type="hidden" name="platform" value="<%=platform%>" />\n  <input type="hidden" name="playtype" value="<%=playtype%>" />\n  <input type="hidden" name="emsg2" value="<%=emsg2%>" />\n  <input type="hidden" name="vurl" value="<%=vurl%>" />\n  <input type="hidden" name="getinfo" value="<%=getinfo%>" />\n  <input type="hidden" name="getkey" value="<%=getkey%>" />\n  <input type="hidden" name="encv" value="0" />\n  <input type="hidden" name="hc_uin" value="<%=uin%>" />\n  <input type="hidden" name="hc_ua" value="<%=ua%>" />\n  <input type="hidden" name="hh_ref" value="<%=refer%>" />\n  <input type="hidden" name="hc_pvid" value="<%=pvid%>" />\n  <input type="hidden" name="hc_ssid" value="<%=sessionid%>" />\n  <input type="hidden" name="hc_main_login" value="<%=main_login%>" />\n  <input type="hidden" name="hc_vuserid" value="<%=vuserid%>" />\n  <input type="hidden" name="hc_openid" value="<%=openid%>" />\n  <input type="hidden" name="hc_appid" value="<%=appid%>" />\n</form>'}});!function(a){var s={};function i(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=a,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=300)}({300:function(t,e,a){t.exports=a(301)},301:function(t,e,a){var r=Txplayer.$,s=Txplayer.util,i=a(302),n=a(303);function o(t){r=Txplayer.$,this.dataset={},this.context=t,this.init()}o.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount=0,this.context.config.hideDefaultWatermark?this.dataset.defaultImg="":this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var t={hideClass:Txplayer.dataset.hideClass,watermarkMod:"txp-ui-watermark-mod"},e=r.tmpl(s.isTouchPlayer(this.context)?n:i,t);this.context.dataset.$playermod.append(e),this.dataset.$watermarkMod=this.context.dataset.$playermod.find('[data-role="'+t.watermarkMod+'"]')},remove:function(){this.dataset.$watermarkMod.remove()},showWaterMarks:function(){this.context.dataset.isPlayingAd||this.context.dataset.isPlayingHlsAd||0!=this.context.dataset.buildWaterMarkActionFail&&this.dataset.$watermarkMod.removeClass(Txplayer.dataset.hideClass)},hideWaterMarks:function(){this.dataset.$watermarkMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(t,e,a){var s,i,n=this,r=0,o=0;1==(a=a?a/100:n.context.dataset.currentPercent/100||1)&&(n.dataset.sca=this.dataset.$video.width()/n.dataset.vw>this.dataset.$video.height()/n.dataset.vh?this.dataset.$video.height()/n.dataset.vh:this.dataset.$video.width()/n.dataset.vw),s=n.dataset.vw*n.dataset.sca*a,i=n.dataset.vh*n.dataset.sca*a,(r=(this.context.dataset.$playermod.width()-s)/2)<0&&(r=0),(o=(this.context.dataset.$playermod.height()-i)/2)<0&&(o=0);var d=parseInt(e.w*n.dataset.sca*a),c=parseInt(e.h*n.dataset.sca*a),u=parseInt(r+s-d-e.x/n.dataset.vw*s),l=parseInt(o+e.y/n.dataset.vh*i);(u<r||r+s-d<u||l<o||o+i-c<l)&&t.hide(),t.css({width:d,height:c,left:u,top:l})},getWaterMarkInfos:function(){if(s.browser.pcqqlive&&s.browser.chrome&&s.compareVersion(s.browser.chrome.version,"30.0")<1)return[];var t=this.context.dataset.getinfoJSON;return t&&t.vl&&t.vl.vi&&"object"===r.type(t.vl.vi[0])&&(this.dataset.vw=t.vl.vi[0].vw,this.dataset.vh=t.vl.vi[0].vh,t.vl.vi[0].wl&&t.vl.vi[0].wl.wi&&"array"===r.type(t.vl.vi[0].wl.wi))?t.vl.vi[0].wl.wi:[]},buildWaterMarks:function(){var n=this;n.dataset.$watermarkMod.children().remove(),n.dataset.watermarkInfos=n.getWaterMarkInfos(),n.dataset.watermarkInfos.length<1||(n.dataset.errorCount=0,r.each(n.dataset.watermarkInfos,function(t,e){var a,s,i="https:"===location.protocol?e.surl:e.url;i&&e.w&&e.h&&(a=document.createElement("img"),(s=r(a)).addClass("txp_waterMark_pic"),s.attr("id",t),s.attr("src",i),s.css({position:"absolute"}),n.changeCss(s,e),n.dataset.$watermarkMod.append(s),n.dealWaterMarkEvent(s))}))},dealWaterMarkEvent:function(s){var i=this;s.on("error",function(){this.src!=i.dataset.defaultImg?(i.dataset.errorCount++,i.dataset.errorCount>=i.dataset.watermarkInfos.length?s.attr("src",i.dataset.defaultImg):s.remove()):s.remove()}),s.on("load",function(){var t,e=s.siblings(),a=e.length;if(0!=a)for(t=0;t<a;t++)if(i.hitTest(s,r(e[t]))){s.remove();break}})},hitTest:function(t,e){var a=parseInt(t.css("top").slice(0,-2)),s=parseInt(e.css("top").slice(0,-2)),i=parseInt(t.css("left").slice(0,-2)),n=parseInt(e.css("left").slice(0,-2));return!(i>n+e.width()||a>s+e.height()||n>i+t.width()||s>a+t.height())},resize:function(t){for(var e,a,s=this.dataset.$watermarkMod.find(".txp_waterMark_pic"),i=0;i<s.length;i++)e=parseInt(r(s[i]).attr("id")),isNaN(e)||(a=this.dataset.watermarkInfos[e],this.changeCss(r(s[i]),a,t))},addEventListerner:function(){var a=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(t){setTimeout(function(){a.resize()},200)}),r(window).on(s.getNSEventName("resize",a.context),function(){a.resize()}),this.dataset.eventsList[s.getUniqueMsgKey("windowFullscreenChange")]=function(){a.resize()},this.dataset.eventsList[s.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){a.resize()},200)},this.dataset.eventsList[s.getUniqueMsgKey("videoScreenPercentChange")]=function(t){a.resize(t)},this.dataset.eventsList[s.getUniqueMsgKey("getVideoUrlSuccess")]=function(){if(a.dataset.hasBuild=!0,a.context.dataset.isDefinitionSwitching)return a.context.msg.off("setDefinitionDone.buildWaterMarks"),void a.context.msg.once("setDefinitionDone.buildWaterMarks",function(){a.buildWaterMarks()});a.buildWaterMarks(),a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("switchHlsAd")]=function(t){t?a.hideWaterMarks():a.showWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("videoTimeUpdate")]=function(t){a.dataset.hasBuild||(a.dataset.hasBuild=!0,a.buildWaterMarks())},this.dataset.eventsList[s.getUniqueMsgKey("resize")]=function(){a.resize()},a.dataset.eventsList[s.getUniqueMsgKey("smallWindowModeChange")]=function(t,e){setTimeout(function(){a.resize()},100)},this.dataset.eventsList[s.getUniqueMsgKey("videoPlaying")]=function(t){if(t&&"film"!=t.playListType)a.hideWaterMarks();else{if(a.resize(),a.context.dataset.isDefinitionSwitching)return;a.showWaterMarks()}},this.dataset.eventsList[s.getUniqueMsgKey("videoEnd")]=function(t){t.isAllEnd&&!a.context.dataset.canPlayTime&&a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("isPlayingAdStatusChange")]=function(t){t&&a.hideWaterMarks()},this.dataset.eventsList[s.getUniqueMsgKey("vidChange")]=function(){a.dataset.errorCount=0,a.dataset.$watermarkMod.children().remove()},this.dataset.eventsList[s.getUniqueMsgKey("buildWaterMarkActionFail")]=function(){a.showWaterMarks()},r.each(this.dataset.eventsList,function(t,e){a.context.msg.on(t,e)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMark",o)},302:function(t,e){t.exports='<txpdiv data-role="<%=watermarkMod%>" class="txp-watermark <%=hideClass%>">\n</txpdiv>'},303:function(t,e){t.exports='<txpdiv data-role="<%=watermarkMod%>" class="txp-watermark <%=hideClass%>">\n</txpdiv>'}});!function(a){var s={};function i(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=a,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=304)}({304:function(t,e,a){t.exports=a(305)},305:function(t,e,a){var c=Txplayer.$,l=Txplayer.util,s=a(306),u=a(307),i=a(308),h=a(309);function n(t){c=Txplayer.$,this.dataset={},this.context=t,this.init()}n.prototype={init:function(){this.write(),this.addEventListerner(),this.exportsModuleApis(),this.dataset.errorCount={},this.context.dataset.buildWaterMarkActionFail=!1,this.dataset.defaultImg="//i.gtimg.cn/qqlive/images/20170222/qing_224_70.png",this.dataset.$video=this.context.dataset.$videomod.find("video")},write:function(){var t={hideClass:Txplayer.dataset.hideClass,watermarkActionMod:"txp-ui-watermark-action-mod"},e=c.tmpl(l.isTouchPlayer(this.context)?i:s,t);this.context.dataset.$playermod.append(e),this.dataset.$watermarkActionMod=this.context.dataset.$playermod.find('[data-role="'+t.watermarkActionMod+'"]')},remove:function(){this.dataset.$watermarkActionMod.remove()},showWaterMarks:function(t){this.context.dataset.isPlayingAd||this.context.dataset.isPlayingHlsAd||(this.dataset.$watermarkActionMod.removeClass(Txplayer.dataset.hideClass),c(this.dataset.$watermarkActionMod.find(".txp-watermark-action-item")[t]).removeClass(Txplayer.dataset.hideClass))},hideSenseWaterMarks:function(t){c(this.dataset.$watermarkActionMod.find(".txp-watermark-action-item")[t]).addClass(Txplayer.dataset.hideClass)},hideWaterMarks:function(){this.dataset.$watermarkActionMod.addClass(Txplayer.dataset.hideClass)},changeCss:function(t,e,a){var s,i,n=this,r=(n.dataset.vw>n.dataset.vh?n.dataset.vh:n.dataset.vw)/n.dataset.ActionData.rw,o=e.x*r,d=e.y*r,c=e.w*r,l=e.h*r,u=0,h=0;1==(a=a?a/100:1)&&(n.dataset.sca=this.dataset.$video.width()/n.dataset.vw>this.dataset.$video.height()/n.dataset.vh?this.dataset.$video.height()/n.dataset.vh:this.dataset.$video.width()/n.dataset.vw),s=n.dataset.vw*n.dataset.sca*a,i=n.dataset.vh*n.dataset.sca*a,(u=(this.context.dataset.$playermod.width()-s)/2)<0&&(u=0),(h=(this.context.dataset.$playermod.height()-i)/2)<0&&(h=0);var v=parseInt(c*n.dataset.sca*a),f=parseInt(l*n.dataset.sca*a),p=parseInt(u+s-v-o/n.dataset.vw*s),g=parseInt(h+d/n.dataset.vh*i);(p<u||u+s-v<p||g<h||h+i-f<g)&&t.hide(),t.css({width:v,height:f,left:p,top:g})},getWaterMarkAction:function(){var t,e=c.Deferred(),a=this.context.dataset.getinfoJSON;return a&&a.vl&&a.vl.vi&&"object"===c.type(a.vl.vi[0])&&(this.dataset.vw=a.vl.vi[0].vw,this.dataset.vh=a.vl.vi[0].vh,a.vl.vi[0].wl&&a.vl.vi[0].wl.action&&(t=a.vl.vi[0].wl.action)),t?(t=t.replace(/https?:/g,""),c.ajax({url:t,dataType:"jsonp",timeout:5e3,jsonpCallback:"txplayerJsonpCallBack_getwatermark"}).done(function(t){t?e.resolve(t):e.reject()}).fail(function(){e.reject()})):e.reject(),e},buildWaterMarkAction:function(){var d=this;d.dataset.$watermarkActionMod.children().remove();d.dataset.errorCount={},d.getWaterMarkAction().done(function(t){t||(d.context.dataset.buildWaterMarkActionFail=!0,d.context.msg.broadcast("buildWaterMarkActionFail")),function(t){if(d.dataset.ActionData=t,d.dataset.ActionData&&d.dataset.ActionData.scenes&&"array"==c.type(d.dataset.ActionData.scenes)&&0<d.dataset.ActionData.scenes.length){var e={scenes:d.dataset.ActionData.scenes,hideClass:Txplayer.dataset.hideClass},a=c.tmpl(l.isTouchPlayer(d.context)?h:u,e);d.dataset.$watermarkActionMod.html(a),d.dataset.watermarkInfos=[];for(var s=0;s<d.dataset.ActionData.scenes.length;s++){d.dataset.watermarkInfos[s]=d.dataset.ActionData.scenes[s].wi;for(var i=0;i<d.dataset.ActionData.scenes[s].wi.length;i++){var n=d.dataset.ActionData.scenes[s].wi[i].url;if(!n||!d.dataset.ActionData.scenes[s].wi[i].w||!d.dataset.ActionData.scenes[s].wi[i].h)return;var r=document.createElement("img"),o=c(r);o.addClass("txp_waterMark_pic"),o.attr("id",i),o.attr("src",n),o.css({position:"absolute"}),d.changeCss(o,d.dataset.ActionData.scenes[s].wi[i]),c(c(".txp-watermark-action-item")[s]).append(r),d.dealWaterMarkEvent(o,s)}}}}(t)}).fail(function(){d.context.dataset.buildWaterMarkActionFail=!0,d.context.msg.broadcast("buildWaterMarkActionFail")})},dealWaterMarkEvent:function(s,t){var i=this;s.on("error",function(){this.src!=i.dataset.defaultImg?(i.dataset.errorCount[t]||(i.dataset.errorCount[t]=0),i.dataset.errorCount[t]++,i.dataset.errorCount[t]>=i.dataset.ActionData.scenes[t].wi.length?s.attr("src",i.dataset.defaultImg):s.remove()):s.remove()}),s.on("load",function(){var t,e=s.siblings(),a=e.length;if(0!=a)for(t=0;t<a;t++)if(i.hitTest(s,c(e[t]))){s.remove();break}})},hitTest:function(t,e){var a=parseInt(t.css("top").slice(0,-2)),s=parseInt(e.css("top").slice(0,-2)),i=parseInt(t.css("left").slice(0,-2)),n=parseInt(e.css("left").slice(0,-2));return!(i>n+e.width()||a>s+e.height()||n>i+t.width()||s>a+t.height())},resize:function(t){for(var e,a,s=this.dataset.$watermarkActionMod.find(".txp-watermark-action-item"),i=0;i<s.length;i++){e=parseInt(c(s[i]).data("scenesid")),a=this.dataset.watermarkInfos[e];for(var n=c(s[i]).find(".txp_waterMark_pic"),r=0;r<a.length;r++){var o=parseInt(c(n[r]).attr("id"));isNaN(o)||this.changeCss(c(n[r]),a[o],t)}}},addEventListerner:function(){var d=this;this.dataset.eventsList={},window.PageMessage&&window.PageMessage.on("vlist-expand",function(t){setTimeout(function(){d.resize()},200)}),c(window).on(l.getNSEventName("resize",d.context),function(){d.resize()}),this.dataset.eventsList[l.getUniqueMsgKey("windowFullscreenChange")]=function(){d.resize()},this.dataset.eventsList[l.getUniqueMsgKey("browserFullscreenChange")]=function(){setTimeout(function(){d.resize()},200)},this.dataset.eventsList[l.getUniqueMsgKey("videoScreenPercentChange")]=function(t){d.resize(t)},d.dataset.eventsList[l.getUniqueMsgKey("smallWindowModeChange")]=function(t,e){setTimeout(function(){d.resize()},100)},this.dataset.eventsList[l.getUniqueMsgKey("getVideoUrlSuccess")]=function(){if(d.context.dataset.buildWaterMarkActionFail=!1,d.dataset.hasBuild=!0,d.context.dataset.isDefinitionSwitching)return d.context.msg.off("setDefinitionDone.buildWaterMarksAction"),void d.context.msg.once("setDefinitionDone.buildWaterMarksAction",function(){d.buildWaterMarkAction()});d.buildWaterMarkAction()},this.dataset.eventsList[l.getUniqueMsgKey("videoTimeUpdate")]=function(t){d.dataset.hasBuild||(d.dataset.hasBuild=!0,d.buildWaterMarkAction())},this.dataset.eventsList[l.getUniqueMsgKey("resize")]=function(){d.resize()},this.dataset.eventsList[l.getUniqueMsgKey("videoPlaying")]=function(t){t&&"film"!=t.playListType&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("isPlayingAdStatusChange")]=function(t){t&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("switchHlsAd")]=function(t){t?d.hideWaterMarks():d.showWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("videoTimeUpdate")]=function(t){if(!d.context.dataset.isPlayingAd&&!d.context.dataset.isDefinitionSwitching&&d.dataset.ActionData&&d.dataset.ActionData.duration){var e=d.dataset.ActionData.start,a=d.dataset.ActionData.duration,s=d.context.dataset.currentTime,i=e/1e3+a/1e3*d.dataset.ActionData.repeat,n=!1;if(0==d.dataset.ActionData.repeat||d.context.dataset.currentTime<i){for(var r=(s-e/1e3)%(a/1e3),o=0;o<d.dataset.ActionData.scenes.length;o++)r>=d.dataset.ActionData.scenes[o].in/1e3&&r<d.dataset.ActionData.scenes[o].out/1e3?(n=!0,d.showWaterMarks(o)):d.hideSenseWaterMarks(o);n||d.hideWaterMarks()}else d.hideWaterMarks()}},this.dataset.eventsList[l.getUniqueMsgKey("videoEnd")]=function(t){t.isAllEnd&&!d.context.dataset.canPlayTime&&d.hideWaterMarks()},this.dataset.eventsList[l.getUniqueMsgKey("vidChange")]=function(){d.dataset.errorCount={},d.dataset.$watermarkActionMod.children().remove()},c.each(this.dataset.eventsList,function(t,e){d.context.msg.on(t,e)})},exportsModuleApis:function(){}},Txplayer.register("UiWaterMarkAction",n)},306:function(t,e){t.exports='<txpdiv data-role="<%=watermarkActionMod%>" class="txp-watermark-action <%=hideClass%>">\n</txpdiv>'},307:function(t,e){t.exports='<% for(var len = scenes.length,i=0; i < len; i++){%>\n  <txpdiv class="txp-watermark-action-item <%=hideClass%>" data-scenesid="<%= i %>">\n\n  </txpdiv>\n<% } %>'},308:function(t,e){t.exports='<txpdiv data-role="<%=watermarkActionMod%>" class="txp-watermark-action <%=hideClass%>">\n</txpdiv>'},309:function(t,e){t.exports='<% for(var len = scenes.length,i=0; i < len; i++){%>\n  <txpdiv class="txp-watermark-action-item <%=hideClass%>" data-scenesid="<%= i %>">\n\n  </txpdiv>\n<% } %>'}});!function(a){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=312)}({312:function(t,e,a){t.exports=a(313)},313:function(t,e,a){var d,r=a(314),i=a(315),u=null,x=document.queryCommandSupported&&document.queryCommandSupported("copy"),h=Txplayer.util;function n(t){d=Txplayer.$,this.dataset={},this.context=t,this.dataset.hideClass="txp_none",this.dataset.showClass="txp_show",this.init()}n.prototype={init:function(){x&&(this.write(),this.addEventListener())},write:function(){var e=this,a={rightClickMenuWrapper:"txp-right-click-menu-wrapper",videoInfo:"txp-right-click-menu-video-info",copyCurrentPageUrl:"txp-right-click-menu-copy-current-page-url",copyCurrentTimePageUrl:"txp-right-click-menu-copy-current-time-page-url",copyConsole:"txp-right-click-menu-copy-console",copyPlayerVersion:"txp-right-click-menu-copy-player-version"},t={rightClickMenuCopySuccess:"txp-right-click-menu-copy-success"};a.playerVersion=Txplayer.dataset.ver+" ("+Txplayer.dataset.lastModify+")",this.dataset.renderData=a;var n=d.tmpl(r,a);d("body").append(n),this.dataset.$playermod=this.context.dataset.$playermod,this.dataset.$playermod.append(d.tmpl(i,t)),e.dataset.$rightClickMenuWrapper=d("body").find('[data-role="'+a.rightClickMenuWrapper+'"]'),["videoInfo","copyCurrentPageUrl","copyCurrentTimePageUrl","copyConsole","copyPlayerVersion"].forEach(function(t){e.dataset["$"+t]=e.dataset.$rightClickMenuWrapper.find('[data-role="'+a[t]+'"]')}),e.dataset.$rightClickMenuCopySuccess=this.dataset.$playermod.find('[data-role="'+t.rightClickMenuCopySuccess+'"]'),this.context.config.hideCopyUrl&&(this.dataset.$copyCurrentPageUrl.remove(),this.dataset.$copyCurrentTimePageUrl.remove())},remove:function(){this.dataset.$rightClickMenuWrapper&&this.dataset.$rightClickMenuWrapper.off("click").remove(),u&&document.body.removeChild(u)},addEventListener:function(){var e,a,n,r,i,o,s,c,l=this,p=d("#txplayer_"+l.context.dataset.playerId);function t(t){return 0===p.length||(!!l.context.dataset.isPlayingAd||(!x||(!(!h.browser.ie||"edge"===h.browser.ie.version)||(!(d(t.target).is(":visible")&&d(t.target).hasClass("txp_player")||d(t.target).parents().hasClass("txp_player"))||(e=t.clientX,a=t.clientY,i=l.context.dataset.$playermod.width(),o=l.context.dataset.$playermod.height(),s=l.context.dataset.$playermod.offset().left,c=l.context.dataset.$playermod.offset().top,n=l.dataset.$rightClickMenuWrapper.width(),r=l.dataset.$rightClickMenuWrapper.outerHeight(),i-n<e-s&&(l.context.dataset.isWindowFullscreen||l.context.dataset.isBrowserFullscreen||!h.isVqqOrFilmqq())&&(e=i-n+s),o-r<a-c&&(l.context.dataset.isWindowFullscreen||l.context.dataset.isBrowserFullscreen||!h.isVqqOrFilmqq())&&(a=o-r+c),l.dataset.$rightClickMenuWrapper.css({left:e,top:a}),l.show(),!1)))))}l.context.dataset.$playermod.contextmenu?l.context.dataset.$playermod.contextmenu(t):d(window).on(h.getNSEventName("contextmenu",l.context),t),d(window).on(h.getNSEventName("click",l.context),function(t){1==t.which&&l.hide()}),this.dataset.$rightClickMenuWrapper.on("click",function(t){var e,a=t.target.getAttribute("data-role"),n="",r=l.dataset.renderData;switch(a){case r.copyCurrentPageUrl:n=location.protocol+"//v.qq.com/x/page/"+l.context.dataset.vid+".html";break;case r.copyCurrentTimePageUrl:n=h.appendParamsToUrl(location.protocol+"//v.qq.com/x/page/"+l.context.dataset.vid+".html",{start:l.context.dataset.currentTime});break;case r.copyConsole:n=l.context.msg.getData("getConsoleData")||"\u8fd8\u6ca1\u6709\u8c03\u8bd5\u4fe1\u606f\u5594",window.JSON&&JSON.stringify&&(n=JSON.stringify(n));break;case r.copyPlayerVersion:n=Txplayer.dataset.ver}a==r.videoInfo?l.context.msg.broadcast("showUiConsole"):(e=n,x&&((u=u||document.getElementsByClassName("txp_clipboard")[0]).value=e,u.select(),u.setSelectionRange(0,e.length),document.execCommand("copy"))),l.hide(),l.dataset.$rightClickMenuCopySuccess.removeClass("txp_none").addClass(l.dataset.showClass),setTimeout(function(){l.dataset.$rightClickMenuCopySuccess.addClass("txp_none").removeClass(l.dataset.showClass)},1e3)}),this.dataset.eventsList={},this.dataset.eventsList[h.getUniqueMsgKey("windowFullscreenChange")]=function(t){t?l.dataset.$playermod.append(l.dataset.$rightClickMenuWrapper):d("body").append(l.dataset.$rightClickMenuWrapper)},this.dataset.eventsList[h.getUniqueMsgKey("browserFullscreenChange")]=function(t){t?l.dataset.$playermod.append(l.dataset.$rightClickMenuWrapper):d("body").append(l.dataset.$rightClickMenuWrapper)},d.each(this.dataset.eventsList,function(t,e){l.context.msg.on(t,e)})},hide:function(){this.context.dataset.isRightClickMenu=!1,this.dataset.$rightClickMenuWrapper.addClass(this.dataset.hideClass)},show:function(){this.context.dataset.isRightClickMenu=!0,this.dataset.$rightClickMenuWrapper.removeClass(this.dataset.hideClass)}},Txplayer.register("UiRightClickMenu",n)},314:function(t,e){t.exports='<txpdiv class="txp_contextmenu txp_none" data-role="<%=rightClickMenuWrapper%>" style="overflow:hidden">\n    <txpdiv class="txp_menuitem" data-role="<%=videoInfo%>">\u89c6\u9891\u4fe1\u606f</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentPageUrl%>">\u590d\u5236\u89c6\u9891\u9875\u9762\u5730\u5740</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyCurrentTimePageUrl%>">\u590d\u5236\u5f53\u524d\u65f6\u95f4\u7684\u9875\u9762\u5730\u5740</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyConsole%>">\u590d\u5236\u8c03\u8bd5\u4fe1\u606f</txpdiv>\n    <txpdiv class="txp_menuitem" data-role="<%=copyPlayerVersion%>"><%=playerVersion%></txpdiv>\n    <textarea class="txp_clipboard" style="position: absolute; left: 100%; top: 0px;"></textarea>\n    \x3c!--<textarea class="ytp-html5-clipboard" style="position: absolute; left: -9999px; top: 0px;"></textarea>--\x3e\n</txpdiv>\n'},315:function(t,e){t.exports='<txpdiv class="txp_overlay_link txp_none" data-role="<%=rightClickMenuCopySuccess%>">\n    <txpdiv class="txp_icon_link">\n        <svg class="txp_icon" version="1.1" viewBox="0 0 36 36" >\n            <use class="txp_svg_symbol" xlink:href="<%=svgPrefix%>#txp_svg_link" />\n        </svg>\n    </txpdiv>\n</txpdiv>\n'}});!function(n){var i={};function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=n,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=344)}({344:function(t,e,n){t.exports=n(345)},345:function(t,e,n){var i=n(346),a=Txplayer.$,o=Txplayer.util;function s(t){a=Txplayer.$,this.dataset={},this.context=t,this.init()}s.prototype={init:function(){this.context.config.official||this.write()},write:function(){var t={goTencentVideo:"txp-ui-endtip-button",tipMod:"txp-ui-endtip-mod",background:"txp-ui-endtip-background",title:"txp-ui-endtip-title",label:"txp-ui-endtip-label"},e=a.tmpl(i,t);this.context.dataset.$playermod.append(e),this.dataset.$mod=this.context.dataset.$playermod.find("[data-role=${role}]".replace("${role}",t.tipMod)),this.dataset.$title=this.dataset.$mod.find("[data-role=${role}]".replace("${role}",t.title)),this.dataset.$button=this.dataset.$mod.find("[data-role=${role}]".replace("${role}",t.goTencentVideo)),this.dataset.$background=this.dataset.$mod.find("[data-role=${role}]".replace("${role}",t.background)),this.dataset.$label=this.dataset.$mod.find("[data-role=${role}]".replace("${role}",t.label)),this.addEventListener()},update:function(){this.dataset.$title.html(o.xss(this.getTitle()));var t=o.getPcVideoPosterByVid(this.context.dataset.vid);this.dataset.$background.css({background:"url(${url}) no-repeat".replace("${url}",t),"background-size":"100% 100%"})},show:function(t){4!=this.context.dataset.getinfoJSON.exem&&(t?this.dataset.$title.html(t):this.dataset.$title.html(this.getTitle()),this.dataset.$mod.removeClass(Txplayer.dataset.hideClass))},hide:function(){this.dataset.$mod.addClass(Txplayer.dataset.hideClass)},getTitle:function(){var t,e=this.context.dataset.title;return e||(t=this.context.dataset.getinfoJSON)&&t.vl&&t.vl.vi&&t.vl.vi[0]&&t.vl.vi[0].ti&&(e=t.vl.vi[0].ti),e},openTencentVideo:function(){var t=0;this.context.dataset.currentTime&&(t=parseInt(this.context.dataset.currentTime));var e=o.getTxVideoPageURLByVid(this.context.dataset.vid,0,t);window.open(e)},addEventListener:function(){var t,e=this;this.context.msg.on("videoPause",function(t){e.context.dataset.canPlayTime&&e.context.dataset.currentTime>=e.context.dataset.canPlayTime&&e.show()}),this.context.msg.on("videoEnd",function(){e.context.dataset.canPlayTime&&e.context.dataset.currentTime>=e.context.dataset.canPlayTime&&e.show()}),this.context.config.showOpenVIPGuide||this.context.msg.on("pause",function(){var t=e.context.dataset.getinfoJSON;!t||t.preview||1!=t.exem&&2!=t.exem&&83!=t.iRetCode||e.context.config.showOpenVIPGuide||(e.update(!0),e.show())}),this.context.msg.on("videoPlay",function(t){e.hide()}),this.context.msg.on("getVideoUrlSuccess",function(t){e.update()}),this.context.config.showOpenVIPGuide||this.context.dataset.getinfoJSON&&(e.update(),(t=this.context.dataset.getinfoJSON).preview||1!=t.exem&&2!=t.exem&&83!=t.iRetCode||e.context.config.showOpenVIPGuide||(e.update(!0),e.show())),this.dataset.$button.off("click").on("click",function(){e.openTencentVideo()}),this.dataset.$title.off("click").on("click",function(){e.openTencentVideo()})}},Txplayer.register("UiUnofficialEndTip",s)},346:function(t,e){t.exports='<txpdiv class="txp_overlay_next txp_overlay_next_complete <%=Txplayer.dataset.hideClass%>" data-role="<%=tipMod%>">\n\t<div class="txp_next_poster" data-role="<%=background%>" style="background-image:url()"></div>\n\t<txpdiv class="txp_next_content">\n\t\t<txpdiv class="txp_label" data-role="<%=label%>"></txpdiv>\n\t\t<txpdiv class="txp_next_title" style="cursor:pointer;" data-role="<%=title%>"></txpdiv>\n\t\t<button class="txp_btn txp_btn_play_lg" data-status="play" data-role="<%=goTencentVideo%>">\n\t\t\t<svg class="txp_icon txp_icon_play" viewBox="0 0 36 36" >\n\t\t\t\t<use class="txp_svg_symbol txp_svg_play" xlink:href="<%=svgPrefix%>#txp_svg_play" />\n\t\t\t</svg>\n\t\t\t<svg class="txp_icon_cirlce" viewBox="0 0 72 72" >\n\t\t\t\t<circle r="34" cy="36" cx="36"></circle>\n\t\t\t</svg>\n\t\t</button>\n\t</txpdiv>\n</txpdiv>'}});!function(n){var a={};function i(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=n,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=347)}({16:function(t,e){t.exports={RFID:"TxpCreativePlayer-rfid",AD_EVENT:{AD_ORDER_DATA_READY:"onAdOrderDataReady",AD_ORDER_PPB_DATA_READY:"ppbAdDataReady",AD_ORDER_PDF_DATA_READY:"pdfAdDataReady",VIDEO_AD_LAYER_SHOW:"adVideoShow",VIDEO_AD_LAYER_HIDE:"adVideoHide"},PLAYER_STATE:{NOT_START:-1,END:0,PLAYING:1,PAUSE:2,LOADING:3},AD_TYPE:{LD:"LD",HT:"HT",ZC:"ZC",ZT:"ZT",KB:"KB",PSJ:"PSJ",PPB:"PPB",PVL:"PVL",ZI:"ZI",BS:"BS",PDF:"PDF",VIDEO_MARK:"PSJ|BS|ZC|CZC|VIN|PHLS",PHLS:"PHLS",CZC:"CZC"},LD_AD_REG:/LD|KB/,VIDEO_AD_REG:/LD|KB|ZC|HT/}},347:function(t,e,n){t.exports=n(348)},348:function(t,e,n){var o,a=Txplayer.util,p=n(59),i=n(349),s=n(16);function d(t){o=Txplayer.$,this.context=t,this.dataset={},this.init()}var r=d.prototype;function c(){var t=new Date;return t.getFullYear()+""+(t.getMonth()+1)+t.getDate()}var l={threeTimes:{name:"threeTimes",icon:"iconLightning",title:"\u611f\u53d73\u500d\u6d41\u7545\u5ea6"},playRate:{name:"playRate",icon:"iconLightning",title:"\u500d\u901f\u64ad\u653e\u89c6\u9891"},freeDefinition:{name:"freeDefinition",icon:"iconHd",title:"\u514d\u8d39\u4eab\u53d7\u84dd\u5149\u64ad\u653e"},sign:{name:"sign",icon:"iconVipStar",title:"\u8fde\u7eed\u7b7e\u52305\u5929\u9001VIP"},update:{name:"update",icon:"iconUpdate",title:"\u5267\u96c6\u81ea\u52a8\u66f4\u65b0\u4e0b\u8f7d"},preWatch:{name:"preWatch",icon:"iconClock",title:"\u63d0\u524d\u4e00\u5c0f\u65f6\u8ffd\u5267"},from_iqiyi:{name:"from_iqiyi",icon:"iconLightning",title:"\u4e13\u4eab\u4f1a\u5458\u52a0\u901f"}},u={threeTimes:{cur:0,max:2,flag:0},playRate:{cur:0,max:2,flag:0},freeDefinition:{cur:0,max:1,flag:0},sign:{cur:0,max:1,flag:0},update:{cur:0,max:1,flag:0},preWatch:{cur:0,max:1,flag:0},from_iqiyi:{cur:0,max:1e4,flag:0},_time:+new Date,queue:[]},h=1800;r.enable=function(){return"v.qq.com"==location.hostname||"v.qq.com"==location.hostname&&(/v.qq.com\/x\/cover|page\//.test(location.href)||/v.qq.com(\/*\w*)\/p\/topic\//.test(location.href))},r.init=function(){if(this.enable()){var i=c(),t=this.getData();if(t)for(var e in this.dataset.settings=t,u)this.dataset.settings[e]||(this.dataset.settings[e]=u[e]);else this.dataset.settings=u;var o=this.dataset.settings,s=parseInt(i,10)-parseInt(o._time,10);["freeDefinition","sign","playRate","threeTimes","update","preWatch"].forEach(function(t){var e=o[t],n=e.time||parseInt(i,10),a=parseInt(i,10)-parseInt(n,10);e.flag&&3<=a&&(e.flag=0,delete e.time),1<=s&&(e.cur=0)}),1<=s&&this.setData({name:"queue",value:[]}),o._time=i,this.setData({name:"_time",value:i}),this.dataset.playedTime=0,this.dataset.queueTime=0,this.dataset.seekCount=0,this.dataset.queue=[],this.write(),this.addEventListeners()}},r.write=function(){var t=this.dataset.renderData={popup:"open-client-popup",popupContent:"open-client-popup-content",iconHd:"open-client-icon-hd",iconUpdate:"open-client-icon-update",iconClock:"open-client-icon-clock",iconLightning:"open-client-icon-lightning",iconVipStar:"open-client-icon-vip-start",title:"open-client-title",close:"open-client-close",btn:"open-client-btn"},e=o.tmpl(i,t);for(var n in this.context.dataset.$playermod.append(e),this.dataset.renderData)this.dataset.renderData.hasOwnProperty(n)&&(this.dataset["$"+n]=this.context.dataset.$playermod.find('[data-role="'+this.dataset.renderData[n]+'"]'));this.dataset.$icons=this.dataset.$popup.find(".txp_popup_download_icon")},r.addEventListeners=function(){var t={},d=this,a=d.dataset.settings;this.dataset.definitionList=[],t["videoPlay.clientbubble"]=function(){var t=d.context.userApi.getDefinitionList();t&&0<t.length&&(d.dataset.definitionList=t.map(function(t){return t.name}))},t["videoTimeUpdate.clientbubble"]=function(){d.dataset.playedTime++,!a.freeDefinition.flag&&a.freeDefinition.cur<a.freeDefinition.max&&!d.isVip()&&d.isPay()&&10==d.dataset.playedTime&&-1<d.dataset.definitionList.indexOf("fhd")&&(a.freeDefinition.cur++,d.handleShow("freeDefinition")),!a.sign.flag&&a.sign.cur<a.sign.max&&!d.isVip()&&10==d.dataset.playedTime&&!d.isPay()&&(a.sign.cur++,d.handleShow("sign")),!a.update.flag&&a.update.cur<a.update.max&&d.dataset.playedTime%h==0&&(a.update.cur++,d.handleShow("update")),!a.preWatch.flag&&a.preWatch.cur<a.preWatch.max&&d.dataset.playedTime%h==0&&(a.preWatch.cur++,d.handleShow("preWatch")),0!=d.dataset.queueTime&&d.dataset.queueTime%h==0&&d.handleQueueShow("timeupdate"),d.dataset.queueTime++;var t=d.context.dataset.playEndTime||0,e=d.context.dataset.duration,n=d.context.dataset.skipPrelude&&0<t?t:e;d.context.dataset.currentTime>=n-10&&(d.dataset.videoEndFirst||(d.dataset.videoEndFirst=!0,i()))},t["seekStart.clientbubble"]=function(){d.dataset.seekCount++,!a.playRate.flag&&a.playRate.cur<a.playRate.max&&3==d.dataset.seekCount&&(a.playRate.cur++,d.handleShow("playRate"),d.dataset.seekCount=0),clearTimeout(d.dataset._seekCountHandle),d.dataset._seekCountHandle=setTimeout(function(){d.dataset.seekCount=0},3e5)},t["videoSeeking.clientbubble"]=function(){clearTimeout(d.dataset._seekingHandle_TIMER),d.dataset._seekingHandle_TIMER=setTimeout(function(){3===d.context.dataset.playState&&d.context.dataset.currentTime&&!a.playRate.flag&&a.threeTimes.cur<a.threeTimes.max&&(a.threeTimes.cur++,d.handleShow("threeTimes"))},1e3)},t["videoEnd.clientbubble"]=function(){d.dataset.seekCount=0};var i=function(){var t,e;"iqiyi"==Txplayer.util.getPTAG()&&(t="from_iqiyi","function"===Txplayer.$.type(d.context.config.getUserType)&&2==d.context.config.getUserType()?e="\u4e13\u4eab\u4f1a\u5458\u52a0\u901f":Txplayer.util.os.mac?e="\u4e13\u4eab\u5e7f\u544a\u7279\u6743":Txplayer.util.os.windows&&(e="\u8fde\u7eed\u7b7e\u5230\u62a2\u4f1a\u5458"),l[t].title=e,d.hide(),d.show(l[t]),d.handleMotion(),d.dataset.currentType=t,d.context.msg.broadcast("reportUsrAction",{usr_action:"bubble-show-"+t}))};t["videoPlaying.clientbubble"]=function(){d.dataset.videoPlayingFirst||(d.dataset.videoPlayingFirst=!0,i())},t["userPausePlayer.clientbubble"]=function(){i()},this.dataset.eventsList=t,o.each(t,function(t,e){d.context.msg.on(t,e)}),this.dataset.$popupContent.on("mouseenter",function(t){d.dataset.$popup.hasClass("txp_hover")||d.dataset.$popup.addClass("txp_hover"),d.handleMotion(!0)}),this.dataset.$popup.on("mouseenter",function(t){"from_iqiyi"!=d.dataset.currentType&&clearTimeout(d.dataset.autoHideHandle_TIMER)}).on("mouseleave",function(){d.dataset.$popup.hasClass("txp_hover")&&d.dataset.$popup.removeClass("txp_hover"),"from_iqiyi"!=d.dataset.currentType&&(d.handleMotion(),setTimeout(function(){d.hide()},300))}).on("click",function(t){t.preventDefault()}),this.dataset.$btn.on("click",function(){var t=d.context.dataset.vid||"",e=d.context.dataset.cid||"",n="",a=Math.max(d.context.dataset.currentTime-5,0),i=d.getRfId()||"",o="from_iqiyi"==d.dataset.currentType,s=o?"web.viqiyi":"web.vkadun";"freeDefinition"===d.dataset.currentType&&(n="fhd"),p({support:!0,atag:o?"viqiyi":"vkadun",sso:"qqlive://sso/vbarid="+e+"&videoid="+t+(n?"&defn="+n:"")+"&start="+a+"&rfid="+i+"&atag="+s,success:function(){d.context.msg.broadcast("pause"),d.context.msg.broadcast("userPausePlayer")},error:function(){location.href=o?"http://dldir1.qq.com/qqtv/qt/QQliveSetup_20_740.exe":"//node.video.qq.com/x/api/download_pc"}}),d.context.msg.broadcast("reportUsrAction",{usr_action:"bubble-click-"+d.dataset.currentType}),d.hide()}),this.dataset.$close.on("click",function(){d.setData({name:d.dataset.currentType,key:"flag",value:1}),d.setData({name:d.dataset.currentType,key:"time",value:c()}),d.hide(),d.context.msg.broadcast("reportUsrAction",{usr_action:"bubble-close-"+d.dataset.currentType})})},r.getFromRecent=function(){var t=this.getData("queue")||[];return 0===t.length?null:0<t.length?t[0]:void 0},r.pushToRecent=function(t){var e=this.getData("queue")||[];e.push(t),this.setData({name:"queue",value:e})},r.updateRecent=function(e){var n=e.key+"."+e.time,t=this.getData("queue")||[];t.length&&(t.forEach(function(t){t.key+"."+t.time==n&&(t.show=e.show)}),this.setData({name:"queue",value:t}))},r.shiftFromRecent=function(t){var e=this.getData("queue")||[];e.length&&(e.shift(),this.setData({name:"queue",value:e}))},r.handleQueueShow=function(t){var e=this.getFromRecent();e&&!e.show?(e.show=1,this.show(l[e.key]),this.handleMotion(),this.dataset.currentType=e.key,this.updateRecent(e),this.dataset.queueTime=0,this.context.msg.broadcast("reportUsrAction",{usr_action:"bubble-show-"+this.dataset.currentType})):e&&e.show&&18e5<=+new Date-e.time&&(this.shiftFromRecent(),this.handleQueueShow("timeout"))},r.handleShow=function(t){var e,n,a=this.dataset.settings[t];a&&(e=l[t],n=+new Date,this.setData({name:e.name,key:"cur",value:a.cur}),this.pushToRecent({key:t,time:n,show:0}),1===(this.getData("queue")||[]).length&&this.handleQueueShow("handleShow"))},r.hide=function(){this.dataset.$popup.addClass(Txplayer.dataset.hideClass).removeClass("txp_hover"),this.context.dataset.isOpenClientBubbleShow=!1},r.autoHide=function(){var t=this;clearTimeout(this.dataset.autoHideHandle_TIMER),this.dataset.autoHideHandle_TIMER=setTimeout(function(){t.hide()},1e4)},r.show=function(t){this.dataset.windows=!1;var e=(t=t||{}).icon||"iconLightning",n=t.title||"\u611f\u53d73\u500d\u6d41\u7545\u5ea6";this.dataset.$title.text(n),this.dataset.$icons.addClass(Txplayer.dataset.hideClass),this.dataset["$"+e].removeClass(Txplayer.dataset.hideClass),this.dataset.$popup.removeClass(Txplayer.dataset.hideClass),this.autoHide(),this.context.msg.broadcast("hideUiTips"),this.context.dataset.isOpenClientBubbleShow=!0},r.handleMotion=function(t){var e=this;window.anime?this.motion(t):this.loadAnimeLib(function(){window.anime&&e.motion(t)})},r.loadAnimeLib=function(t){t=t||function(){},a.loadScript({url:"//vm.gtimg.cn/tencentvideo/txp/js/anime.js",onsuccess:t})},r.motion=function(e){for(var t=[],n=0;n<4;n++)try{var a=window.anime.path("#txp_popup_download_path"+(n+1)+" path"),i=0<n?"reverse":"normal";t[n]=window.anime({targets:".txp_popup_download_dot"+(n+1),translateX:a("x"),translateY:a("y"),rotate:a("angle"),easing:"linear",duration:function(t){return e?2e3:o(t).data("duration")},direction:i,loop:!0})}catch(t){}},r.getRfId=function(){return Txplayer.util.getData(s.RFID)||Txplayer.util.getData(Txplayer.dataset.localStorageKey.adRfid)},r.isWideMode=function(){return 0<this.context.dataset.$playermod.parents(".player_container_wide").length},r.isPay=function(){var t=this.context.userApi.getUserPayStatus();return 0==t||1==t||2==t},r.isVip=function(){var t=!1;return this.context&&this.context.config&&"function"===o.type(this.context.config.getUserType)&&(t=2==this.context.config.getUserType()),t},r.getData=function(t){var e=Txplayer.dataset.localStorageKey.openClientBubble,n=Txplayer.util.getData(e);if(n)try{n=Txplayer.$.parseJSON(n)}catch(t){n=null}return t?n&&n[t]:n},r.setData=function(t){var e=Txplayer.dataset.localStorageKey.openClientBubble,n=this.dataset.settings;void 0!==t.key?n[t.name][t.key]=t.value:n[t.name]=t.value,Txplayer.util.setData(e,JSON.stringify(n))},Txplayer.register("UiOpenClientBubble",d)},349:function(t,e){t.exports='<txpdiv class="txp_popup_download txp_none" data-role="<%=popup%>">\n    <txpdiv class="txp_popup_download_content" data-role="<%=popupContent%>">\n        <txpdiv class="txp_popup_download_img txp_popup_download_img_vip">\n            <i class="txp_popup_download_icon" data-role="<%=iconHd%>">\n                <svg class="txp_icon txp_svg_hd" viewBox="0 0 28 28" width="28" height="28">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_hd"></use>\n                </svg>\n            </i>\n            <i class="txp_popup_download_icon" data-role="<%=iconUpdate%>">\n                <svg class="txp_icon txp_svg_update" viewBox="0 0 28 28" width="28" height="28">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_update"></use>\n                </svg>\n            </i>\n            <i class="txp_popup_download_icon" data-role="<%=iconClock%>">\n                <svg class="txp_icon txp_svg_clock" viewBox="0 0 28 28" width="28" height="28">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_clock"></use>\n                </svg>\n            </i>\n            <i class="txp_popup_download_icon" data-role="<%=iconLightning%>">\n                <svg class="txp_icon txp_svg_lightning" viewBox="0 0 28 28" width="28" height="28">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_lightning"></use>\n                </svg>\n            </i>\n            <i class="txp_popup_download_icon" data-role="<%=iconVipStar%>">\n                <svg class="txp_icon txp_svg_vip_star_lg" viewBox="0 0 28 28" width="28" height="28">\n                    <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#txp_svg_vip_star_lg"></use>\n                </svg>\n            </i>\n            <txpdiv class="txp_popup_download_cicle1"></txpdiv>\n            <txpdiv class="txp_popup_download_cicle2"></txpdiv>\n            <txpdiv id="txp_popup_download_path1">\n                <txpdiv class="txp_popup_download_dot1" data-duration="10000"></txpdiv>\n                <svg viewBox="0 0 75 75"  width="75" height="75" class="txp_none">\n                    <path fill="none" stroke-width="1" d="M31.5,67.8C17.9,66.8,7.8,52.6,8.9,36S21.8,6.7,35.4,7.7S59.1,22.9,58,39.5C57,56.1,45.1,68.8,31.5,67.8z"></path>\n                </svg>\n            </txpdiv>\n            <txpdiv id="txp_popup_download_path2">\n                <txpdiv class="txp_popup_download_dot2"  data-duration="8000"></txpdiv>\n                <svg viewBox="0 0 75 75"  width="75" height="75" class="txp_none">\n                    <path fill="none" stroke-width="1" d="M39,5.8c14.2,1.9,24.1,16.7,22.1,33C59.2,55.2,46,67,31.8,65.1c-14.2-1.9-24.1-16.7-22.1-33S24.8,3.9,39,5.8z"></path>\n                </svg>\n            </txpdiv>\n            <txpdiv id="txp_popup_download_path3">\n                <txpdiv class="txp_popup_download_dot3"  data-duration="9000"></txpdiv>\n                <svg viewBox="0 0 75 75"  width="75" height="75" class="txp_none">\n                    <path fill="none" stroke-width="1" d="M15.8,28.8C20.1,18,34,13.4,46.8,18.4S66.5,36.2,62.2,47S44,62.5,31.2,57.5S11.5,39.6,15.8,28.8z"></path>\n                </svg>\n            </txpdiv>\n            <txpdiv id="txp_popup_download_path4">\n                <txpdiv class="txp_popup_download_dot4"  data-duration="11000"></txpdiv>\n                <svg viewBox="0 0 75 75"  width="75" height="75" class="txp_none">\n                    <path fill="none" stroke-width="1"  d="M63.3,41.4c-1.7,13.5-16.5,22.8-33,20.8S1.8,47.6,3.6,34.1s16.5-22.8,33-20.8S65.1,27.9,63.3,41.4z"></path>\n                </svg>\n            </txpdiv>\n        </txpdiv>\n        <txpdiv class="txp_popup_download_text">\n            <txpdiv class="txp_label">\u4f7f\u7528\u817e\u8baf\u89c6\u9891PC\u5ba2\u6237\u7aef</txpdiv>\n            <txpdiv class="txp_title" data-role="<%=title%>">\u500d\u901f\u89c2\u770b\u89c6\u9891</txpdiv>\n        </txpdiv>\n    </txpdiv>\n    <txpdiv class="txp_btn_download" data-role="<%=btn%>">\u7acb\u5373\u4f53\u9a8c</txpdiv>\n    <button class="txp_btn txp_btn_close" data-role="<%=close%>"></button>\n</txpdiv>'},38:function(t,e){var n=[],a=!1,i=0;t.exports=function(t){if(i)t(i);else if(n.push(t),!a){if(a=!0,"qq.com"!=document.domain)throw new Error("document.domain is not qq.com");var e=document.createElement("iframe");e.src="javascript:'<script>window.onload=function(){document.write(\\'<script>document.domain=\\\"qq.com\\\";<\\\\/script>\\');document.close();};<\/script>'",e.style.cssText="display:none;",document.body.appendChild(e),e.getClient=function(t){i=t;for(var e=n.shift();e;)e&&e(t),e=n.shift()},e.src="//v.qq.com/iframe/client.html"}}},59:function(t,e,n){var o=n(38);t.exports=function(e){if(e.support&&e.sso){try{t=e.atag,i="qqlivechannel=channel1."+t,Txplayer.util.browser.ie?((n=new Date).setTime(n.getTime()+864e5),document.cookie=i+";path=/;expires="+n.toGMTString()):(a=Txplayer.$("<input>"),Txplayer.$("body").append(a),a.css({position:"absolute",left:"-9999px"}),a.val(i),a.css({top:Txplayer.$(window).scrollTop()+"px"}),a.get(0).focus(),a.get(0).setSelectionRange(0,i.length),document.queryCommandSupported&&document.queryCommandSupported("copy")&&document.execCommand("copy",!0),a.remove())}catch(t){}o(function(t){t&&t.exist().done(function(){t.open(e.sso),e.success&&e.success()}).fail(function(){e.error&&e.error()})})}var t,n,a,i}}});!function(a){var n={};function s(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=a,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=495)}({495:function(t,e,a){t.exports=a(496)},496:function(t,e,a){var n=Txplayer.util,s=a(497);function r(t){this.dataset={},this.context=t,this.init()}r.prototype={init:function(){this.context.config.disableH5Seek||(this.write(),this.addEventListerner(),this.progressOnTouch())},write:function(){var t={hideClass:Txplayer.dataset.hideClass,time:"txp-h5-ui-speedy",currentTime:"txp-h5-ui-speedy-currenttime",playedProgress:"txp-h5-ui-speedy-playedprogress"},e=Txplayer.$.tmpl(s,t);this.context.dataset.$playermod.append(e),this.dataset.$time=this.context.dataset.$playermod.find('[data-role="'+t.time+'"]'),this.dataset.$currentTime=this.context.dataset.$playermod.find('[data-role="'+t.currentTime+'"]'),this.dataset.$playedProgress=this.context.dataset.$playermod.find('[data-role="'+t.playedProgress+'"]'),this.dataset.disable=!!this.context.config.hideControlUI},remove:function(){this.dataset.$time.remove()},show:function(){this.dataset.$time.removeClass(Txplayer.dataset.hideClass)},hide:function(){this.dataset.$time.addClass(Txplayer.dataset.hideClass)},updateTime:function(t){var e;"number"===Txplayer.$.type(t)&&this.context.dataset.duration&&(this.dataset.$currentTime.html(n.formatPlayTime(t)),e=parseInt(100*t/this.context.dataset.duration),this.dataset.$playedProgress.css("width",e+"%"))},calcTime:function(t){var e=this.context.dataset.currentTime+parseInt(t/5);return e>=this.context.dataset.duration&&(e=this.context.dataset.duration-1),e<0&&(e=0),e},progressOnTouch:function(){function s(){return i.context.dataset.isPlayingAd||"film"!==i.context.dataset.currentPlayListType||i.context.dataset.isControlTouch||!i.context.dataset.currentTime||0==i.context.dataset.playState||i.dataset.disable}var r,i=this,o=r={x:0,y:0,time:0},d=!1,c=!1;this.context.dataset.$playermod.on("touchstart",function(t){s()||(1===i.context.dataset.playState?c=!1:c||2!==i.context.dataset.playState||(c=!0),(t=t.originalEvent?t.originalEvent:t)&&t.touches&&t.touches.length&&(t=t.targetTouches[0],o={x:t.pageX,y:t.pageY,time:+new Date}))}).on("touchmove",function(t){var e,a,n;s()||c||(t=t.originalEvent?t.originalEvent:t)&&t.touches&&1==t.touches.length&&(e=t.touches[0].pageX-o.x,a=t.touches[0].pageY-o.y,Math.abs(e)>=Math.abs(a)&&(t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)),t=t.touches[0],(30<(r={x:t.pageX-o.x,y:t.pageY-o.y}).x||r.x<-30)&&Math.abs(r.x)>3*Math.abs(r.y)&&(d||(d=!0,i.context.msg.broadcast("pause"),i.show())),d&&(n=i.calcTime(r.x),i.updateTime(n),i.context.msg.broadcast("speedyTouchmove",n),i.context.msg.broadcast("hideUiPlay")))}).on("touchend",function(t){var e;s()||d&&(o.time,d=!1,i.hide(),e=new Date-o.time,Number(e)<=100&&(i.context.msg.broadcast("playControl",{autoplay:!0}),i.context.msg.broadcast("userPlayPlayer")),i.context.msg.broadcast("seekTo",i.calcTime(r.x)))})},addEventListerner:function(){}},Txplayer.register("H5UiSpeedy",r)},497:function(t,e){t.exports='<txpdiv data-role="<%=time%>" class="txp_overlay_speedy <%=hideClass%>">\n\t<txpdiv class="txp_speedy_inner">\n\t\t<txpdiv class="txp_speedy_text" data-role="<%=currentTime%>">00:00</txpdiv>\n\t\t<txpdiv class="txp_speedy_bar"><txpdiv class="txp_speedy_current" style="width:0%" data-role="<%=playedProgress%>"></txpdiv></txpdiv>\n\t</txpdiv>\n</txpdiv>'}});